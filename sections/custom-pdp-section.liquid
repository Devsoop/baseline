{% comment %}
  Daily Ritual Section - Two-part section with image blocks and flip cards
  Features:
  - Part 1: 3-column image grid with buttons and text blocks
  - Part 2: Horizontally scrollable flip cards with expandable content
{% endcomment %}

{% style %}
  .daily-ritual-section {
      {% if section.settings.background_img != blank %}
          background-image: url('{{ section.settings.background_img | img_url: '2000x' }}');
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
      {% else %}
        /* background-color: #0a0a0a; */
        /* background-image: radial-gradient(ellipse 80% 50% at 50% 28%, #81091b 0%, #690212 25%, #560410 55%, rgb(99 4 17 / 41%) 85%, transparent 100%); */
        background:
    linear-gradient(
      to bottom,
      rgba(107, 2, 17, 0) 0%,
      rgba(0, 0, 0, 1) 100%
    ),
    radial-gradient(
      ellipse at center,
      rgba(158, 1, 30, 1) 0%,
      rgba(129, 1, 22, 1) 60%,
      rgba(56, 2, 3, 1) 100%
    );
      {% endif %}
      padding: {{ section.settings.section_padding_top }}px 0 {{ section.settings.section_padding_bottom }}px;
      margin-top:60px;

  }

    .daily-ritual-container {
      /* max-width: 1400px; */
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Part 1: Daily Ritual Header and Grid */
    .ritual-header {
      text-align: center;
      margin-bottom: 60px;
    }

    .ritual-title {
      font-size: clamp(28px, 5vw, {{ section.settings.heading_size }}px);
      font-weight: 500;
      letter-spacing: 0%;
      line-height:120%;
      color: {{ section.settings.heading_color }};
      margin: 0 0 20px;
      text-transform: uppercase;
      padding: 0px 140px;
    }

    .ritual-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 20px;
    }

    .ritual-card {
      background: {{ section.settings.card_background }};
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .ritual-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    .ritual-card-header {
      padding: 40px 40px 20px 40px;
      text-align: left;
    }

    .ritual-card-title {
      font-size: 18px;
      font-weight: 600;
      color: {{ section.settings.card_title_color }};
      line-height:140%;
      margin: 0 0 5px;
      font-style: italic;
    }

    .ritual-card-subtitle {
      font-size: 18px;
      line-height:140%;
      font-weight: 400;
      color: {{ section.settings.card_subtitle_color }};
      margin: 0;
    }

    .ritual-card-image {
      width: 100%;
      height: 300px;
      object-fit: contain;
    }

    .ritual-card-footer {
      max-width:135px;
      margin:auto;
      padding-top: 20px !important;
      padding-bottom: 36px !important;
      background: rgba(255, 255, 255, 0.5);
      text-align: center;
      font-size: 12px;
      font-weight:700;
      line-height:100%;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Bottom Info Section */
    .ritual-info {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      background: transparent;
    }

    .info-block {
      display: flex;
      flex-direction: row;
      gap: 12px;
      background: {{ section.settings.info_background }};
      padding: 40px;
    }

    .info-block-tile-one h3 {
      font-size: 24px;
      font-weight: 600;
      line-height:120%;
      color: {{ section.settings.info_heading_color }};
      margin: 0;
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }

    .info-block-tile-two h3 {
      font-size: 24px;
      font-weight: 500;
      line-height:140%;
      color: {{ section.settings.info_heading_color }};
      margin: 0;
      text-transform: uppercase;
      letter-spacing: 0%;
    }
    .info-block-tile-two .info-text{
      font-style:italic;
    }
    .info-block-tile-one{
      min-width:50%;
        display: flex;
        flex-direction: column;
        gap: 16px;
    }
    .info-block-tile-two{
      min-width:50%;
        /* width:60%;; */
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 12px;
        background: #00000033;
        padding: 30px;
    }

    .button-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .info-button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: {{ section.settings.button_background }};
      color: {{ section.settings.button_text_color }};
      border: 2px solid {{ section.settings.button_border_color }};
      border-radius: 20px;
      font-size: 14px;
      line-height:120%;
      font-weight: 500;
      text-decoration: none;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      transition: all 0.3s ease;
    }

    .info-button:hover {

      transform: translateY(-2px);
    }


    .info-button.active {
      background: {{ section.settings.button_active_background }};
      color: {{ section.settings.button_active_text_color }};
    }

    .info-icon {
      width: 16px;
      height: 16px;
    }

    .info-text {
      font-size: 16px;
      font-weight:400;
      line-height: 160%;
      color: {{ section.settings.info_text_color }};
      margin: 0;
    }

    .dose-badge {
      max-width: max-content;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      background: {{ section.settings.badge_background }};
      color: {{ section.settings.badge_text_color }};
      border-radius: 25px;
      font-weight: 500;
      line-height:120%;
      font-size: 14px;
      text-transform:uppercase;
    }

    /* Part 2: Benefits Section */
    .benefits-section {
      margin-top: 80px;
    }

    .benefits-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .benefits-title {
      text-align:center;
      max-width:820px;
      font-size: clamp(24px, 4vw, {{ section.settings.benefits_heading_size }}px);
      font-weight: 500;
      line-height:120%;
      letter-spacing: 1px;
      color: {{ section.settings.heading_color }};
      margin: 0 auto 15px auto;

      text-transform: uppercase;
      /* padding: 0px 140px; */
    }

    .benefits-subtitle {
      font-size: 18px;
      font-weight:500;
      line-height:140%;
      color: {{ section.settings.subtitle_color }};
      margin: 0 auto 0 auto;
      max-width:560px;
    }

    .benefits-scroll-container {
      position: relative;
      overflow: hidden;
    }

    .benefits-cards-wrapper {
      display: flex;
      gap: 20px;
      overflow-x: auto;
      scroll-behavior: smooth;
      padding: 20px 0 40px;
      scrollbar-width: none;
      scrollbar-color: transparent;
    }

    .benefits-cards-wrapper::-webkit-scrollbar {
      height: 8px;
    }

    .benefits-cards-wrapper::-webkit-scrollbar-track {
      background: transparent;
    }

    .benefits-cards-wrapper::-webkit-scrollbar-thumb {
      background: {{ section.settings.scrollbar_color }};
      border-radius: 10px;
    }

    .benefit-card {
      min-width: 280px;
      max-width: 305px;
      height: 400px;
      perspective: 1000px;
      cursor: pointer;
    }

    .benefit-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .benefit-card.flipped .benefit-card-inner {
      transform: rotateY(180deg);
    }

    .benefit-card-front,
    .benefit-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      padding: 30px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
    }

    .benefit-card-front {
      background: {{ section.settings.benefit_card_background }};
      color: {{ section.settings.benefit_card_text_color }};
    }

    .benefit-card-back {
      background: {{ section.settings.benefit_card_back_background }};
      color: {{ section.settings.benefit_card_back_text_color }};
      transform: rotateY(180deg);
    }

    .benefit-card-header {
      display: flex;
      justify-content: flex-end;
      align-items: flex-start;
      margin-bottom: 20px;
    }


    .flip-icon {
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      border: 1px solid;
      font-size: 20px;
      font-weight: 300;
      transition: transform 0.3s ease;
      flex-shrink: 0;
    }

    .benefit-card:hover .flip-icon {
      transform: rotate(90deg);
    }

    .benefit-icon-wrapper {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: start;
      {% comment %} margin: 30px 0; {% endcomment %}

    }


    .benefit-icon {
      width: 100px;
      height: 100px;
      object-fit: contain;
    }

    .benefit-content {
      flex: 1;
    }

    .benefit-title {
      font-size: 18px;
      font-weight: 600;
      line-height:140%;
      margin: 0 0 10px;
      font-style: italic;
    }

    .benefit-description {
      font-size: 18px;
      font-weight:400;
      line-height: 140%;
      margin: 0;
      opacity: 0.9;
    }
    .benefit-learn-more{
      background: transparent;
      border: 1px solid white;
      color: white;
      padding: 12px 40px;
      border-radius: 100px;
      font-size: 16px;
      font-weight:700;
      cursor: pointer;
      margin-top: 18px;
      text-decoration: none;
      text-align: center;
      text-transform:uppercase;
      line-height:22px;
    }
    .benefit-learn-more:hover{
      background: white;
      color: black;
      transform: translateY(-2px);
    }

    .benefit-cta {
      text-align: center;
      margin-top: 50px;
    }

    .benefit-cta-button {
      display: inline-block;
      padding: 12px 40px;
      background: {{ section.settings.cta_background }};
      color: {{ section.settings.cta_text_color }};
      border: 2px solid {{ section.settings.cta_border_color }};
      border-radius: 30px;
      font-size: 16px;
      line-height:136%;
      font-weight: 700;
      text-decoration: none;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      transition: all 0.3s ease;
    }

    .benefit-cta-button:hover {
      background: {{ section.settings.cta_hover_background }};
      color: {{ section.settings.cta_hover_text_color }};
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .ritual-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      .info-block{
        flex-direction: column;
      }

      {% comment %} .ritual-grid .ritual-card:last-child {
        grid-column: 1 / -1;
        max-width: 50%;
        margin: auto;
      } {% endcomment %}

      .ritual-info {
        gap: 20px;
      }

      .benefit-card {
        min-width: 260px;
      }
    }

    @media (max-width: 768px) {
      .benefit-learn-more{
        display:none;
      }
      .ritual-grid {
        grid-template-columns: 1fr;
      }
      .info-block{
        flex-direction: column;
        padding: 20px;
      }
      .benefits-title{
        padding: 0px 20px;
      }
      .ritual-title{
        padding: 0px 20px;
      }

      .ritual-grid .ritual-card:last-child {
        max-width: 100%;
      }

      .ritual-info {
        grid-template-columns: 1fr;

      }

      .button-group {
        justify-content: start;
      }

      .benefit-card {
        min-width: 260px;
        height: 320px;
      }

      .benefits-cards-wrapper {
        padding: 20px 10px 30px;
      }
    }

    @media (max-width: 480px) {

      .info-block{
        padding: 20px;
      }
      .dose-badge{
          font-size: 12px;
      }
      .daily-ritual-container {
        padding: 0 15px;
      }

      /* .ritual-card-header {
        padding: 15px;
      } */


      /* .ritual-card-image {
        height: 150px;
      } */

      .info-button {
        font-size: 11px;
        padding: 6px 12px;
      }

      .benefit-card {
        min-width: 260px;
        height: 300px;
      }

      .benefit-card-front,
      .benefit-card-back {
        padding: 20px;
      }

      .benefit-icon {
        width: 60px;
        height: 60px;
      }
    }
{% endstyle %}

<style>
  @media (max-width: 480px){
    .mob{
      display:grid;
    }
    .desk{
      display:none;
    }
    .ritual-card-header{
      padding:0 !important;
    }
  }

  @media (min-width: 480px){
    .mob{
      display:none;
    }
    .desk{
      display:block;
    }
  }
</style>

<section class="daily-ritual-section">
  <div class="daily-ritual-container">
    <!-- Part 1: Daily Ritual -->
    {% if section.settings.show_ritual_section %}
      <div class="ritual-header">
        <h2 class="ritual-title">{{ section.settings.ritual_title }}</h2>
      </div>

      <div class="ritual-grid page-width">
        {% for block in section.blocks %}
          {% if block.type == 'ritual_card' %}
            <div class="ritual-card desk" {{ block.shopify_attributes }}>
              <div class="ritual-card-header">
                <h3 class="ritual-card-title">{{ block.settings.card_title }}</h3>
                <p class="ritual-card-subtitle">{{ block.settings.card_subtitle }}</p>
              </div>
              {% if block.settings.card_image %}
                <img
                  src="{{ block.settings.card_image | img_url: '400x400' }}"
                  alt="{{ block.settings.card_title }}"
                  class="ritual-card-image"
                  loading="lazy"
                  width=""
                  height=""
                >
              {% endif %}
              {% if block.settings.card_footer %}
                <div class="ritual-card-footer">{{ block.settings.card_footer }}</div>
              {% endif %}
            </div>
            {% comment %} For Mobile {% endcomment %}
            <div class="ritual-card mob" {{ block.shopify_attributes }}>
              <div class="ritual-mobile-left">
              <div class="ritual-card-header">
                <h3 class="ritual-card-title">{{ block.settings.card_title }}</h3>
                <p class="ritual-card-subtitle">{{ block.settings.card_subtitle }}</p>
              </div>
              {% if block.settings.card_footer %}
                <div class="ritual-card-footer">{{ block.settings.card_footer }}</div>
              {% endif %}
              </div>
              <div class="ritual-mobile-right">
              {% if block.settings.card_image %}
                <img
                  src="{{ block.settings.card_image | img_url: '400x400' }}"
                  alt="{{ block.settings.card_title }}"
                  class="ritual-card-image"
                  loading="lazy"
                  width=""
                  height=""
                >
              {% endif %}
              </div>
            </div>
            {% comment %} End For Mobile {% endcomment %}
          {% endif %}
        {% endfor %}
      </div>

      <div class="ritual-info page-width">
        {% for block in section.blocks %}
          {% if block.type == 'info_block' %}
            <div class="info-block" {{ block.shopify_attributes }}>
              <div class="info-block-tile-one">
                <h3>{{ block.settings.info_title }}</h3>

                {% if block.settings.show_buttons %}
                  <div class="button-group">
                    {% if block.settings.button_1_text != blank %}
                      <span class="info-button {% if block.settings.button_1_active %}active{% endif %}">
                        {% if block.settings.button_1_icon %}
                          <svg
                            class="info-icon"
                            width="17"
                            height="17"
                            viewBox="0 0 20 15"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path style="{% if block.settings.button_1_active %}fill:black{% endif %}" d="M9.1676 3.07052C9.32775 3.47286 9.73791 3.69161 10.1715 3.6174C10.5895 3.54318 10.8981 3.1838 10.9098 2.75802C10.9215 2.44552 10.9137 2.13302 10.9137 1.82052C10.9137 1.52365 10.9176 1.22677 10.9137 0.933802C10.9098 0.582239 10.7613 0.304895 10.4528 0.125208C9.83557 -0.230261 9.1051 0.211145 9.09728 0.945521C9.08947 1.52755 9.09338 2.11349 9.09728 2.69552C9.09338 2.82443 9.12072 2.94943 9.1676 3.07052Z" fill="white"/>
                            <path style="{% if block.settings.button_1_active %}fill:black{% endif %}" d="M5.21094 5.68775C5.67188 5.49244 5.88672 4.95728 5.6875 4.49635C5.64063 4.39088 5.57813 4.29322 5.4961 4.21119C5.06641 3.7776 4.64063 3.34791 4.20313 2.92213C3.84766 2.57056 3.27735 2.57447 2.92578 2.92603C2.92188 2.92994 2.92188 2.92994 2.91797 2.93385C2.57031 3.28541 2.57031 3.8401 2.92188 4.20728C3.04297 4.33228 3.16797 4.45728 3.29297 4.57838C3.59766 4.88306 3.89453 5.19166 4.20313 5.48853C4.4961 5.76197 4.83594 5.8401 5.21094 5.68775Z" fill="white"/>
                            <path style="{% if block.settings.button_1_active %}fill:black{% endif %}" d="M17.1055 4.1683C17.3711 3.89095 17.4141 3.5433 17.2539 3.19173C16.9922 2.61361 16.2539 2.4808 15.7891 2.93392C15.3594 3.35189 14.9375 3.78158 14.5117 4.20345C14.332 4.38314 14.2383 4.59798 14.2383 4.90658C14.2539 5.2308 14.4219 5.51986 14.7695 5.68001C15.1172 5.84017 15.4688 5.7972 15.7461 5.53158C16.207 5.08626 16.6602 4.63314 17.1055 4.1683Z" fill="white"/>
                            <path style="{% if block.settings.button_1_active %}fill:black{% endif %}" d="M19.156 9.09399C18.5115 9.07837 17.863 9.07837 17.2185 9.09399C16.7224 9.10571 16.3513 9.5354 16.3709 10.0393C16.3865 10.512 16.7888 10.8948 17.2732 10.8987H18.1873C18.1873 10.8987 18.7966 10.8987 19.1013 10.8987C19.5896 10.8948 19.988 10.5159 20.0037 10.0432C20.0154 9.5354 19.6521 9.10571 19.156 9.09399Z" fill="white"/>
                            <path style="{% if block.settings.button_1_active %}fill:black{% endif %}" d="M2.76931 9.09009C2.13649 9.07837 1.50368 9.07837 0.866964 9.09009C0.366964 9.10181 -0.0119424 9.51977 -0.000223693 10.0198C0.0154013 10.512 0.417745 10.9026 0.909932 10.8987H1.80837C1.80837 10.8987 2.41774 10.8987 2.72243 10.8987C3.21462 10.8987 3.61696 10.5159 3.63259 10.0354C3.64431 9.51977 3.27712 9.10181 2.76931 9.09009Z" fill="white"/>
                            <path style="{% if block.settings.button_1_active %}fill:black{% endif %}" d="M4.56208 10.3674C4.5777 10.5784 4.74958 10.7385 4.96051 10.7385H15.0543C15.2691 10.7385 15.4449 10.5666 15.4527 10.3518C15.4683 9.87915 15.441 9.37524 15.359 8.96899C14.773 5.98852 11.9527 4.07837 8.96833 4.63696C6.28083 5.14087 4.35895 7.63696 4.56208 10.3674Z" fill="white"/>
                            <path style="{% if block.settings.button_1_active %}fill:black{% endif %}" d="M14.5508 12.2893H5.44922C4.94922 12.2893 4.53906 12.6956 4.53906 13.1995C4.53906 13.6995 4.94531 14.1096 5.44922 14.1096H14.5508C15.0508 14.1096 15.4609 13.7034 15.4609 13.1995C15.457 12.6956 15.0508 12.2893 14.5508 12.2893Z" fill="white"/>
                          </svg>
                        {% endif %}
                        {{ block.settings.button_1_text }}
                      </span>
                    {% endif %}

                    {% if block.settings.button_2_text != blank %}
                      <span class="info-button {% if block.settings.button_2_active %}active{% endif %}">
                        {% if block.settings.button_2_icon %}
                          <svg
                            class="info-icon"
                            width="17"
                            height="17"
                            viewBox="0 0 18 18"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path style="{% if block.settings.button_2_active %}fill:black{% endif %}" fill-rule="evenodd" clip-rule="evenodd" d="M14.371 8.69034C14.101 9.06734 13.9587 9.56783 13.9587 9.98392C13.9587 10.4442 13.5856 10.8173 13.1253 10.8173C12.6651 10.8173 12.292 10.4442 12.292 9.98392C12.292 9.24617 12.5285 8.4005 13.016 7.71984C13.5177 7.01941 14.3187 6.45825 15.3981 6.45825C15.8583 6.45825 16.2314 6.83135 16.2314 7.29159C16.2314 7.75184 15.8583 8.12492 15.3981 8.12492C14.9622 8.12492 14.6269 8.333 14.371 8.69034Z" fill="white"/>
                            <path style="{% if block.settings.button_2_active %}fill:black{% endif %}" d="M9.36383 10.2749C9.95241 9.51419 10.7785 8.97461 11.61 8.97461C12.0847 8.97461 12.5365 9.09311 12.8521 9.19994C12.955 9.23478 13.0471 9.26961 13.1252 9.30111C13.2032 9.26961 13.2953 9.23478 13.3982 9.19994C13.7138 9.09311 14.1655 8.97461 14.6403 8.97469C15.4718 8.97461 16.2979 9.51419 16.8865 10.2749C17.4925 11.0579 17.9168 12.1541 17.9168 13.4457C17.9168 16.1819 15.4726 17.9169 13.1252 17.9169C10.7777 17.9169 8.3335 16.1819 8.3335 13.4457C8.3335 12.1541 8.75783 11.0579 9.36383 10.2749Z" fill="white"/>
                            <path style="{% if block.settings.button_2_active %}fill:black{% endif %}" d="M1.36363 1.875C1.36363 2.45865 1.6409 2.96075 2.05683 3.29732C0.846108 5.57996 0 7.66425 0 10.4392V15.625C0 16.8907 1.02602 17.9167 2.29167 17.9167H9.15575C9.22225 17.9167 9.28817 17.9138 9.35317 17.9083C8.03025 16.9287 7.08333 15.4064 7.08333 13.4455C7.08333 11.8782 7.59883 10.5127 8.37508 9.50958C8.98208 8.72525 9.89233 7.99892 10.9742 7.78658L10.8123 7.17863L10.8107 7.17252C10.4411 5.83892 9.86183 4.60349 9.17508 3.31172C9.60117 2.97516 9.88633 2.46718 9.88633 1.875C9.88633 0.789383 8.94375 0 7.89775 0H3.35227C2.30628 0 1.36363 0.789383 1.36363 1.875Z" fill="white"/>
                          </svg>
                        {% endif %}
                        {{ block.settings.button_2_text }}
                      </span>
                    {% endif %}

                    {% if block.settings.button_3_text != blank %}
                      <span class="info-button {% if block.settings.button_3_active %}active{% endif %}">
                        {% if block.settings.button_3_icon %}
                          <svg
                            class="info-icon"
                            width="17"
                            height="17"
                            viewBox="0 0 17 17"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path style="{% if block.settings.button_3_active %}fill:black{% endif %}" d="M16.6667 5C16.6667 4.632 16.5173 4.29867 16.2763 4.05733L12.6097 0.390667C12.368 0.149333 12.0347 0 11.6667 0C10.9987 0 10.45 0.493 10.3533 1.13433L10.2763 1.05733C10.0347 0.816 9.70133 0.666667 9.33333 0.666667C8.597 0.666667 8 1.26367 8 2C8 2.368 8.14933 2.70133 8.39033 2.94267L10.232 4.78433L4.78467 10.2323L2.943 8.39067C2.70133 8.14933 2.368 8 2 8C1.26367 8 0.666667 8.597 0.666667 9.33333C0.666667 9.70133 0.816 10.0347 1.057 10.276L1.13433 10.3533C0.493 10.45 0 10.9983 0 11.6667C0 12.0347 0.149333 12.368 0.390333 12.6093L4.057 16.276C4.29867 16.5173 4.632 16.6667 5 16.6667C5.668 16.6667 6.21667 16.1737 6.31333 15.5323L6.39033 15.6093C6.632 15.8507 6.96533 16 7.33333 16C8.06967 16 8.66667 15.403 8.66667 14.6667C8.66667 14.2987 8.51733 13.9653 8.27633 13.724L6.43467 11.8823L11.8823 6.43467L13.724 8.27633C13.9653 8.51733 14.2987 8.66667 14.6667 8.66667C15.403 8.66667 16 8.06967 16 7.33333C16 6.96533 15.8507 6.632 15.6097 6.39067L15.5323 6.31333C16.1737 6.21667 16.6667 5.66833 16.6667 5Z" fill="white"/>
                          </svg>
                        {% endif %}
                        {{ block.settings.button_3_text }}
                      </span>
                    {% endif %}
                  </div>
                {% endif %}

                {% if block.settings.show_dose_badge %}
                  <div class="dose-badge">
                    <!-- SVG icon -->
                    <svg width="17" height="17" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M13.4221 0.102489C14.6762 -0.136286 16.0638 0.00447243 16.9878 0.928381C17.9117 1.8523 18.0524 3.24002 17.8137 4.49408C17.5718 5.7646 16.9167 7.06039 16.0171 7.96001C15.0197 8.95742 13.8876 9.29601 12.7675 9.07801C11.902 8.90951 11.1886 8.98809 10.7988 9.40292L3.38083 17.2995C2.62498 18.1042 1.35337 18.124 0.572766 17.3434C-0.207842 16.5628 -0.187984 15.2912 0.616633 14.5353L8.51317 7.11732C8.92808 6.72761 9.00667 6.01416 8.83817 5.14861C8.62017 4.02856 8.95875 2.89649 9.95617 1.89908C10.8558 0.999464 12.1516 0.344406 13.4221 0.102489Z" fill="black"/>
                    </svg>

                    <span style="margin-left:4px;">{{ block.settings.dose_badge_text }}</span>
                  </div>
                {% endif %}

                <p class="info-text">{{ block.settings.info_description }}</p>

                {% if block.settings.show_dose_badge %}
                  <div class="dose-badge">
                    <svg width="17" height="17" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M13.4221 0.102489C14.6762 -0.136286 16.0638 0.00447243 16.9878 0.928381C17.9117 1.8523 18.0524 3.24002 17.8137 4.49408C17.5718 5.7646 16.9167 7.06039 16.0171 7.96001C15.0197 8.95742 13.8876 9.29601 12.7675 9.07801C11.902 8.90951 11.1886 8.98809 10.7988 9.40292L3.38083 17.2995C2.62498 18.1042 1.35337 18.124 0.572766 17.3434C-0.207842 16.5628 -0.187984 15.2912 0.616633 14.5353L8.51317 7.11732C8.92808 6.72761 9.00667 6.01416 8.83817 5.14861C8.62017 4.02856 8.95875 2.89649 9.95617 1.89908C10.8558 0.999464 12.1516 0.344406 13.4221 0.102489Z" fill="black"/>
                    </svg>
                    <svg width="17" height="17" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M13.4221 0.102489C14.6762 -0.136286 16.0638 0.00447243 16.9878 0.928381C17.9117 1.8523 18.0524 3.24002 17.8137 4.49408C17.5718 5.7646 16.9167 7.06039 16.0171 7.96001C15.0197 8.95742 13.8876 9.29601 12.7675 9.07801C11.902 8.90951 11.1886 8.98809 10.7988 9.40292L3.38083 17.2995C2.62498 18.1042 1.35337 18.124 0.572766 17.3434C-0.207842 16.5628 -0.187984 15.2912 0.616633 14.5353L8.51317 7.11732C8.92808 6.72761 9.00667 6.01416 8.83817 5.14861C8.62017 4.02856 8.95875 2.89649 9.95617 1.89908C10.8558 0.999464 12.1516 0.344406 13.4221 0.102489Z" fill="black"/>
                    </svg>

                    <span style="margin-left:4px;">{{ block.settings.dose_badge_text_additional }}</span>
                  </div>
                {% endif %}

                <p class="info-text">{{ block.settings.info_description_additional }}</p>
              </div>
              {% if block.settings.show_info_card %}
                <div class="info-block-tile-two">
                  <h3>{{ block.settings.info_card_title }}</h3>
                  <p class="info-text">{{ block.settings.info_card_text }}</p>
                </div>
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}

    <!-- Part 2: Benefits Section -->
    {% if section.settings.show_benefits_section %}
      <div class="benefits-section">
        <div class="benefits-header">
          <h2 class="benefits-title">{{ section.settings.benefits_title }}</h2>
          {% if section.settings.benefits_subtitle != blank %}
            <p class="benefits-subtitle">{{ section.settings.benefits_subtitle }}</p>
          {% endif %}
        </div>

        <div class="benefits-scroll-container">
          <div class="benefits-cards-wrapper" id="benefitsCards">
            {% for block in section.blocks %}
              {% if block.type == 'benefit_card' %}
                <div class="benefit-card" data-card-id="{{ block.id }}" {{ block.shopify_attributes }}>
                  <div class="benefit-card-inner">
                    <!-- Front of Card -->
                    <div class="benefit-card-front">
                      <div class="benefit-card-header">
                        <div style="flex: 1;"></div>
                        <div class="flip-icon">+</div>
                      </div>
                      <div class="benefit-icon-wrapper">
                        {% if block.settings.benefit_icon %}
                          <img
                            src="{{ block.settings.benefit_icon | img_url: '150x150' }}"
                            alt="{{ block.settings.benefit_title }}"
                            class="benefit-icon"
                            loading="lazy"
                            width=""
                            height=""
                          >
                        {% else %}
                          <svg
                            class="benefit-icon"
                            viewBox="0 0 100 100"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <circle cx="50" cy="50" r="40"/>
                            <path d="M30 50h40M50 30v40"/>
                          </svg>
                        {% endif %}
                      </div>
                      <div class="benefit-content">
                        <h3 class="benefit-title">{{ block.settings.benefit_title }}</h3>
                        <p class="benefit-description">{{ block.settings.benefit_description }}</p>
                      </div>
                    </div>

                    <!-- Back of Card -->
                    <div class="benefit-card-back">
                      <div class="benefit-card-header">
                        <div style="flex: 1;"></div>
                        <div class="flip-icon">×</div>
                      </div>
                      <div
                        class="benefit-content"
                        style="flex: 1; display: flex; flex-direction: column; justify-content: center;"
                      >
                        <div style="transform:translateY(-50px);" class="benefit-icon-wrapper ">
                          {% if block.settings.benefit_icon %}
                            <img
                              src="{{ block.settings.benefit_icon_back | img_url: '150x150' }}"
                              alt="{{ block.settings.benefit_title }}"
                              class="benefit-icon"
                              loading="lazy"
                              width=""
                              height=""
                            >
                          {% else %}
                            <svg
                              class="benefit-icon"
                              viewBox="0 0 100 100"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <circle cx="50" cy="50" r="40"/>
                              <path d="M30 50h40M50 30v40"/>
                            </svg>
                          {% endif %}
                        </div>
                        <p class="benefit-description">{{ block.settings.benefit_back_description }}</p>
                        <a href="{{ block.settings.benifit_card_button_link }}" class="benefit-learn-more">
                          {{- block.settings.benifit_card_button_text -}}
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>

        {% if section.settings.show_cta_button %}
          <div class="benefit-cta">
            <a href="{{ section.settings.cta_link }}" class="benefit-cta-button">
              {{ section.settings.cta_text }}
            </a>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</section>

<script>
  // Flip card functionality
  document.addEventListener('DOMContentLoaded', function () {
    const benefitCards = document.querySelectorAll('.benefit-card');

    benefitCards.forEach((card) => {
      card.addEventListener('click', function () {
        this.classList.toggle('flipped');
      });
    });

    // Optional: Auto-scroll functionality for better UX on mobile
    const scrollContainer = document.querySelector('.benefits-cards-wrapper');
    if (scrollContainer) {
      let isDown = false;
      let startX;
      let scrollLeft;

      scrollContainer.addEventListener('mousedown', (e) => {
        isDown = true;
        scrollContainer.style.cursor = 'grabbing';
        startX = e.pageX - scrollContainer.offsetLeft;
        scrollLeft = scrollContainer.scrollLeft;
      });

      scrollContainer.addEventListener('mouseleave', () => {
        isDown = false;
        scrollContainer.style.cursor = 'grab';
      });

      scrollContainer.addEventListener('mouseup', () => {
        isDown = false;
        scrollContainer.style.cursor = 'grab';
      });

      scrollContainer.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - scrollContainer.offsetLeft;
        const walk = (x - startX) * 2;
        scrollContainer.scrollLeft = scrollLeft - walk;
      });
    }
  });
</script>

{% schema %}
{
  "name": "Daily Ritual & Benefits",
  "class": "daily-ritual-benefits-section",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "image_picker",
      "id": "background_img",
      "label": "Background Image"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "label": "Top Padding",
      "min": 0,
      "max": 150,
      "step": 5,
      "default": 80,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "label": "Bottom Padding",
      "min": 0,
      "max": 150,
      "step": 5,
      "default": 80,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Part 1: Daily Ritual Section"
    },
    {
      "type": "checkbox",
      "id": "show_ritual_section",
      "label": "Show Ritual Section",
      "default": true
    },
    {
      "type": "text",
      "id": "ritual_title",
      "label": "Ritual Title",
      "default": "DAILY RITUAL"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading Size",
      "min": 24,
      "max": 72,
      "step": 2,
      "default": 42,
      "unit": "px"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card Background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "card_title_color",
      "label": "Card Title Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "card_subtitle_color",
      "label": "Card Subtitle Color",
      "default": "#666666"
    },
    {
      "type": "header",
      "content": "Info Block Settings"
    },
    {
      "type": "color",
      "id": "info_background",
      "label": "Info Block Background",
      "default": "#A52A2A"
    },
    {
      "type": "color",
      "id": "info_heading_color",
      "label": "Info Heading Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "info_text_color",
      "label": "Info Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Button Background",
      "default": "transparent"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Button Border Color",
      "default": "#FFFFFF"
    },

    {
      "type": "color",
      "id": "button_active_background",
      "label": "Active Button Background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_active_text_color",
      "label": "Active Button Text Color",
      "default": "#8B1A1A"
    },
    {
      "type": "color",
      "id": "badge_background",
      "label": "Badge Background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "badge_text_color",
      "label": "Badge Text Color",
      "default": "#8B1A1A"
    },
    {
      "type": "header",
      "content": "Part 2: Benefits Section"
    },
    {
      "type": "checkbox",
      "id": "show_benefits_section",
      "label": "Show Benefits Section",
      "default": true
    },
    {
      "type": "text",
      "id": "benefits_title",
      "label": "Benefits Title",
      "default": "NOT JUST OLIVE OIL. A HEALTH UPGRADE"
    },
    {
      "type": "textarea",
      "id": "benefits_subtitle",
      "label": "Benefits Subtitle",
      "default": "Explore the proven ways that different polyphenols found in our oil support your health"
    },
    {
      "type": "range",
      "id": "benefits_heading_size",
      "label": "Benefits Heading Size",
      "min": 20,
      "max": 60,
      "step": 2,
      "default": 36,
      "unit": "px"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle Color",
      "default": "#CCCCCC"
    },
    {
      "type": "color",
      "id": "benefit_card_background",
      "label": "Benefit Card Background (Front)",
      "default": "#F5F5F5"
    },
    {
      "type": "color",
      "id": "benefit_card_text_color",
      "label": "Benefit Card Text Color (Front)",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "benefit_card_back_background",
      "label": "Benefit Card Background (Back)",
      "default": "#8B1A1A"
    },
    {
      "type": "color",
      "id": "benefit_card_back_text_color",
      "label": "Benefit Card Text Color (Back)",
      "default": "#FFFFFF"
    },

    {
      "type": "header",
      "content": "CTA Button"
    },
    {
      "type": "checkbox",
      "id": "show_cta_button",
      "label": "Show CTA Button",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Button Text",
      "default": "TAKE THE 3-MINUTE POLYPHENOLS JOURNEY"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "CTA Button Link"
    },
    {
      "type": "color",
      "id": "cta_background",
      "label": "CTA Background",
      "default": "transparent"
    },
    {
      "type": "color",
      "id": "cta_text_color",
      "label": "CTA Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "cta_border_color",
      "label": "CTA Border Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "cta_hover_background",
      "label": "CTA Hover Background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "cta_hover_text_color",
      "label": "CTA Hover Text Color",
      "default": "#8B1A1A"
    }
  ],
  "blocks": [
    {
      "type": "ritual_card",
      "name": "Ritual Card",
      "settings": [
        {
          "type": "text",
          "id": "card_title",
          "label": "Card Title",
          "default": "Take it Straight."
        },
        {
          "type": "text",
          "id": "card_subtitle",
          "label": "Card Subtitle",
          "default": "For a Pure, Powerful Boost"
        },
        {
          "type": "image_picker",
          "id": "card_image",
          "label": "Card Image"
        },
        {
          "type": "text",
          "id": "card_footer",
          "label": "Card Footer Text",
          "default": "PURE POLYPHENOLS. NO COMPROMISE."
        }
      ]
    },
    {
      "type": "info_block",
      "name": "Info Block",
      "settings": [
        {
          "type": "text",
          "id": "info_title",
          "label": "Info Title",
          "default": "WHEN"
        },
        {
          "type": "checkbox",
          "id": "show_buttons",
          "label": "Show Buttons",
          "default": true
        },
        {
          "type": "text",
          "id": "button_1_text",
          "label": "Button 1 Text",
          "default": "MORNING"
        },
        {
          "type": "checkbox",
          "id": "button_1_icon",
          "label": "Show Button 1 Icon",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "button_1_active",
          "label": "Button 1 Active",
          "default": true
        },
        {
          "type": "text",
          "id": "button_2_text",
          "label": "Button 2 Text",
          "default": "WITH MEALS"
        },
        {
          "type": "checkbox",
          "id": "button_2_icon",
          "label": "Show Button 2 Icon",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "button_2_active",
          "label": "Button 2 Active",
          "default": false
        },
        {
          "type": "text",
          "id": "button_3_text",
          "label": "Button 3 Text",
          "default": "AFTER EXERCISE"
        },
        {
          "type": "checkbox",
          "id": "button_3_icon",
          "label": "Show Button 3 Icon",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "button_3_active",
          "label": "Button 3 Active",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "show_dose_badge",
          "label": "Show Dose Badge",
          "default": false
        },
        {
          "type": "text",
          "id": "dose_badge_text",
          "label": "Dose Badge Text (1st)",
          "default": "✓ 1 TABLESPOON (15ML)"
        },
        {
          "type": "textarea",
          "id": "info_description",
          "label": "Info Description (1st)",
          "default": "Supports optimal nutrient absorption and helps the body maintain balance, and helps improve absorption of fat-soluble supplements like curcumin, D, E, and K."
        },
        {
          "type": "text",
          "id": "dose_badge_text_additional",
          "label": "Dose Badge Text (2nd)",
          "default": "✓ 1 TABLESPOON (15ML)"
        },
        {
          "type": "textarea",
          "id": "info_description_additional",
          "label": "Info Description (2nd)",
          "default": "Supports optimal nutrient absorption and helps the body maintain balance, and helps improve absorption of fat-soluble supplements like curcumin, D, E, and K."
        },
        {
          "type": "checkbox",
          "id": "show_info_card",
          "label": "Show Info Card",
          "default": false
        },
        {
          "type": "text",
          "id": "info_card_title",
          "label": "Info Card Title",
          "default": "Info Card Title"
        },
        {
          "type": "textarea",
          "id": "info_card_text",
          "label": "Info Card Text",
          "default": "This is the info card text."
        }
      ]
    },
    {
      "type": "benefit_card",
      "name": "Benefit Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "benefit_icon",
          "label": "Benefit Icon (Front)"
        },
        {
          "type": "text",
          "id": "benefit_title",
          "label": "Title (Front)",
          "default": "Cognition"
        },
        {
          "type": "textarea",
          "id": "benefit_description",
          "label": "Description (Front)",
          "default": "Supports focus, clarity, and mental sharpness"
        },
        {
          "type": "image_picker",
          "id": "benefit_icon_back",
          "label": "Benefit Icon (Back)"
        },
        {
          "type": "text",
          "id": "benefit_back_title",
          "label": "Title (Back)",
          "default": "Enhanced Cognition"
        },
        {
          "type": "textarea",
          "id": "benefit_back_description",
          "label": "Description (Back)",
          "default": "Polyphenols support brain health by protecting neurons and enhancing cognitive function. Studies show improved memory and focus."
        },
        {
          "type": "text",
          "id": "benifit_card_button_text",
          "label": "Card CTA Text",
          "default": "Learn More"
        },
        {
          "type": "url",
          "id": "benifit_card_button_link",
          "label": "CTA Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Daily Ritual & Benefits",
      "blocks": [
        {
          "type": "ritual_card",
          "settings": {
            "card_title": "Take it Straight.",
            "card_subtitle": "For a Pure, Powerful Boost",
            "card_footer": "PURE POLYPHENOLS. NO COMPROMISE."
          }
        },
        {
          "type": "ritual_card",
          "settings": {
            "card_title": "Mix it in.",
            "card_subtitle": "Add it to your favourite drink",
            "card_footer": "SMOOTHIES. COFFEE. JUICE."
          }
        },
        {
          "type": "ritual_card",
          "settings": {
            "card_title": "Drizzle it.",
            "card_subtitle": "Drizzle Over Your Favourite Meals",
            "card_footer": "BREAKFAST. LUNCH OR DINNER."
          }
        },
        {
          "type": "info_block",
          "settings": {
            "info_title": "WHEN",
            "show_buttons": true,
            "button_1_text": "MORNING",
            "button_1_active": true,
            "button_2_text": "WITH MEALS",
            "button_3_text": "AFTER EXERCISE",
            "info_description": "Supports optimal nutrient absorption on an empty stomach, and helps the body maintain balance, and helps improve absorption of fat-soluble supplements like curcumin, D, E, and K."
          }
        },
        {
          "type": "info_block",
          "settings": {
            "info_title": "DOSE",
            "show_buttons": false,
            "show_dose_badge": true,
            "dose_badge_text": "✓ 1 TABLESPOON (15ML)",
            "info_description": "per day to support overall health! Start with 1 tablespoon daily for extra support"
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "benefit_title": "Cognition",
            "benefit_description": "Supports focus, clarity, and mental sharpness",
            "benefit_back_title": "Brain Power",
            "benefit_back_description": "Polyphenols protect neurons and enhance cognitive function for better memory and focus."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "benefit_title": "Immunity",
            "benefit_description": "Supports your body's natural immune responses",
            "benefit_back_title": "Immune Support",
            "benefit_back_description": "Rich in antioxidants that help strengthen your immune system naturally."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "benefit_title": "Skin",
            "benefit_description": "Supports hydration, elasticity, a natural glow",
            "benefit_back_title": "Radiant Skin",
            "benefit_back_description": "Polyphenols help protect and nourish your skin from within."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "benefit_title": "Vitality",
            "benefit_description": "Supports sustained energy and drive",
            "benefit_back_title": "Energy Boost",
            "benefit_back_description": "Natural compounds that support sustained energy throughout your day."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "benefit_title": "Repair",
            "benefit_description": "Aids inflammation response, tissue repair",
            "benefit_back_title": "Recovery",
            "benefit_back_description": "Supports your body's natural healing and recovery processes."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "benefit_title": "Hormones",
            "benefit_description": "Supports hormonal balance",
            "benefit_back_title": "Balance",
            "benefit_back_description": "Helps maintain healthy hormonal balance naturally."
          }
        }
      ]
    }
  ]
}
{% endschema %}
